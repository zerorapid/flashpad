document.addEventListener('DOMContentLoaded', () => {
    // Initialize elements
    const els = {
        notepad: document.getElementById('notepad'),
        charCount: document.getElementById('charCount'),
        wordCount: document.getElementById('wordCount'),
        deleteBtn: document.getElementById('deleteBtn'),
        fontOptions: document.querySelectorAll('.font-option')
    };

    // Initialize first font
    const initializeFirstFont = () => {
        els.fontOptions[0].classList.add('active');
        els.notepad.style.fontFamily = els.fontOptions[0].dataset.font;
    };

    // Font selection handler
    const handleFontSelection = (event) => {
        els.fontOptions.forEach(btn => btn.classList.remove('active'));
        event.target.classList.add('active');
        els.notepad.style.fontFamily = event.target.dataset.font;
    };

    // Update counts function
    const updateCounts = () => {
        const text = els.notepad.value.trim();
        els.charCount.textContent = text.length;
        els.wordCount.textContent = text === '' ? 0 : text.split(/\s+/).length;
    };

    // Clear button handler
    const handleClear = () => {
        els.notepad.value = '';
        updateCounts();
        els.notepad.focus();
    };

    // Event listeners
    els.fontOptions.forEach(btn => {
        btn.addEventListener('click', handleFontSelection);
    });
    
    els.notepad.addEventListener('input', updateCounts);
    els.deleteBtn.addEventListener('click', handleClear);
    
    // Initial setup
    initializeFirstFont();
    updateCounts();
});
